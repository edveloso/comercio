package edu.infnet.comercio.controler;

import java.io.IOException;
import java.util.List;

import javax.servlet.ServletException;
import javax.servlet.annotation.WebServlet;
import javax.servlet.http.HttpServlet;
import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpServletResponse;

import edu.infnet.comercio.negocio.dao.JpaDAO;
import edu.infnet.comercio.negocio.dao.ProdutoDAO;
import edu.infnet.comercio.negocio.dao.ProdutoJPADAO;
import edu.infnet.comercio.negocio.modelo.Produto;

@WebServlet(urlPatterns = {"/ComprasSrv"})
public class ComprasServlet extends HttpServlet {

	private ProdutoDAO dao;
	private JpaDAO jpadao;
	
	public ComprasServlet() {
		this.dao = new ProdutoDAO();
		this.jpadao = new ProdutoJPADAO();
	}
	
	/**
	 * 
	 */
	private static final long serialVersionUID = 1L;

	@Override
	protected void doGet(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {
		
//		Produto produto = new Produto("TV kkkkkkkk", "O bicho", 7800.0, "data:image/jpeg;base64,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");
//		
//		this.jpadao.save(produto);
//		
//		List<Produto> produtos = dao.findAllProdutos();
		List<Produto> produtos = jpadao.findAll();
		
		req.setAttribute("lista_produto", produtos);
		
		
		req.getRequestDispatcher("pages/catalogo.jsp")
				.forward(req, resp);
	}
		
}








